{% extends 'common/grupo_base.html' %}
{% load widget_tweaks %}

{% block grupo_content %}

<div class="card mb-4 shadow-sm">
    <!-- Mostrar la publicación -->
	<div class="card-body">
		<!-- Encabezado con foto y username -->
		<div class="d-flex justify-content-between align-items-center mb-2">
        <div class="d-flex align-items-center">
		        <!-- Imagen de perfil en círculo -->
            {% if publicacion.numCuenta.tener.idPerfil.foto_perfil %}
					      <img src="{{ publicacion.numCuenta.tener.idPerfil.foto_perfil.url }}" alt="Foto perfil"
              	        class="rounded-circle me-2" width="40" height="40" style="object-fit: cover;">
            {% else %}
                <div class="bg-secondary text-white rounded-circle d-flex justify-content-center align-items-center me-2"
                    style="width: 40px; height: 40px;">
                    <i class="fas fa-user"></i>
                </div>
            {% endif %}
            <strong>{{ publicacion.numCuenta.nombre_usuario }}</strong>
        </div>
            <small class="text-muted"> {{ publicacion.fecha_creacion }} - {{ publicacion.hora_creacion|time:"H:i" }}</small>
        </div>

        <!-- Descripción -->
        {% if publicacion.descripcion %}
            <p class="mb-3">"{{ publicacion.descripcion }}"</p>
        {% endif %}

        <!-- Imagen -->
        {% if publicacion.imagen %}
            <div class="mb-3">
                <img src="{{ publicacion.imagen.url }}" alt="Imagen de la publicación" class="img-fluid rounded">
            </div>
        {% endif %}
  </div>
    <!-- Mostrar comentarios -->
    <div class="card shadow-sm">
        <div class="card-body">
            <h5 class="card-title">Comentarios</h5>
            {% if comentarios %}
                <ul class="list-group list-group-flush">
                    {% for comentario in comentarios %}
                        <li class="list-group-item">
                            <strong>{{ comentario.numCuenta.nombre_usuario }}:</strong>
                            <p>{{ comentario.contenido }}</p>
                            <small class="text-muted">{{ comentario.fecha_creacion }} {{ comentario.hora_creacion|time:"H:i" }}</small>
                        </li>
                    {% endfor %}
                </ul>
            {% else %}
                <p class="text-muted">No hay comentarios aún.</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}

